{"ast":null,"code":"import _objectSpread from\"/Users/kooshaowji/Documents/GitHub/DreamTeam/dreamcrm/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/kooshaowji/Documents/GitHub/DreamTeam/dreamcrm/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Fab from'@material-ui/core/Fab';import React from'react';import{makeStyles}from'@material-ui/core/styles';import UpdateIcon from'@material-ui/icons/Update';import Dialog from'@material-ui/core/Dialog';import DialogTitle from'@material-ui/core/DialogTitle';import TextField from'@material-ui/core/TextField';import Button from'@material-ui/core/Button';import Container from'@material-ui/core/Container';import{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{update_contact}from'../../actions/contact';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{width:'100%',margin:theme.spacing(1)},icon:{verticalAlign:'bottom',height:20,width:20}};});var UpdateContact=function UpdateContact(_ref){var currId=_ref.currId,allContacts=_ref.allContacts;var classes=useStyles();var dispatch=useDispatch();var _useState=useState({first_name:'',last_name:'',business:'',relationship:'',email_address:'',phone_number:'',description:''}),_useState2=_slicedToArray(_useState,2),contactDetails=_useState2[0],setContactDetails=_useState2[1];var contact=useSelector(function(state){return currId?allContacts.find(function(n){return n._id===currId;}):null;});var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];useEffect(function(){if(contact){setContactDetails(_objectSpread(_objectSpread({},contactDetails),{},{first_name:contact.first_name,last_name:contact.last_name,business:contact.business,relationship:contact.relationship,phone_number:contact.phone_number,email_address:contact.email_address,description:contact.description}));}},[currId]);var handleSaveClick=function handleSaveClick(event){console.log(contactDetails);if(contactDetails){dispatch(update_contact(currId,contactDetails));window.location.reload(true);handleClose();}};var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};return/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsx(\"div\",{className:classes.deleteContact,children:/*#__PURE__*/_jsxs(\"div\",{className:\"updateContact\",children:[/*#__PURE__*/_jsx(Fab,{color:\"primary\",\"aria-label\":\"update\",onClick:handleClickOpen,style:{display:'flex'},children:/*#__PURE__*/_jsx(UpdateIcon,{})}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,\"aria-labelledby\":\"form-dialog-title\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"form-dialog-title\",children:\"Update contact\"}),/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",id:\"name\",label:\"First Name\",type:\"first_name\",fullWidth:true,value:contactDetails.first_name,onChange:function onChange(e){return setContactDetails(_objectSpread(_objectSpread({},contactDetails),{},{first_name:e.target.value}));}}),/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",id:\"name\",label:\"Last Name\",type:\"last_name\",fullWidth:true,value:contactDetails.last_name,onChange:function onChange(e){return setContactDetails(_objectSpread(_objectSpread({},contactDetails),{},{last_name:e.target.value}));}}),/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",id:\"name\",label:\"Business\",type:\"business\",fullWidth:true,value:contactDetails.business,onChange:function onChange(e){return setContactDetails(_objectSpread(_objectSpread({},contactDetails),{},{business:e.target.value}));}}),/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",id:\"name\",label:\"Relationship\",type:\"relationship\",fullWidth:true,value:contactDetails.relationship,onChange:function onChange(e){return setContactDetails(_objectSpread(_objectSpread({},contactDetails),{},{relationship:e.target.value}));}}),/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",id:\"name\",label:\"Email Address\",type:\"email\",fullWidth:true,value:contactDetails.email_address,onChange:function onChange(e){return setContactDetails(_objectSpread(_objectSpread({},contactDetails),{},{email_address:e.target.value}));}}),/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",id:\"name\",label:\"Phone number\",type:\"phone_number\",fullWidth:true,value:contactDetails.phone_number,onChange:function onChange(e){return setContactDetails(_objectSpread(_objectSpread({},contactDetails),{},{phone_number:e.target.value}));}}),/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",id:\"name\",label:\"Description\",type:\"description\",fullWidth:true,value:contactDetails.description,onChange:function onChange(e){return setContactDetails(_objectSpread(_objectSpread({},contactDetails),{},{description:e.target.value}));}}),/*#__PURE__*/_jsx(\"div\",{className:\"note_footer\",children:/*#__PURE__*/_jsx(Button,{className:\"Add to contacts\",onClick:handleSaveClick,children:\"Save changes\"})})]})]})]})})});};export default UpdateContact;","map":{"version":3,"sources":["/Users/kooshaowji/Documents/GitHub/DreamTeam/dreamcrm/src/components/contact/UpdateContact.component.js"],"names":["Fab","React","makeStyles","UpdateIcon","Dialog","DialogTitle","TextField","Button","Container","useState","useEffect","useDispatch","useSelector","update_contact","useStyles","theme","root","width","margin","spacing","icon","verticalAlign","height","UpdateContact","currId","allContacts","classes","dispatch","first_name","last_name","business","relationship","email_address","phone_number","description","contactDetails","setContactDetails","contact","state","find","n","_id","open","setOpen","handleSaveClick","event","console","log","window","location","reload","handleClose","handleClickOpen","deleteContact","display","e","target","value"],"mappings":"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","sourcesContent":["import Fab from '@material-ui/core/Fab';\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport UpdateIcon from '@material-ui/icons/Update';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container';\n\nimport { useState, useEffect } from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport { update_contact } from '../../actions/contact';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%',\n      margin: theme.spacing(1),\n    },\n    icon: {\n      verticalAlign: 'bottom',\n      height: 20,\n      width: 20,\n    }\n  }));\n  \n  \n    const  UpdateContact=({currId, allContacts})=> {\n    const classes = useStyles();\n\n    \n    const dispatch = useDispatch();\n\n    const [contactDetails, setContactDetails]=useState({\n    first_name: '',\n    last_name: '',\n    business: '',\n    relationship: '',\n    email_address:'', \n    phone_number:'', \n    description:''\n    });\n\n    const contact = useSelector((state) => currId ? allContacts.find((n) => n._id === currId) : null);\n\n    const [open, setOpen] = React.useState(false);\n\n    useEffect(() => {\n        if (contact){\n        setContactDetails({\n            ...contactDetails,\n            first_name:contact.first_name, \n            last_name:contact.last_name,\n            business:contact.business,\n            relationship:contact.relationship, \n            phone_number: contact.phone_number,\n            email_address:contact.email_address, \n            description:contact.description\n        })\n         }\n    }, [currId])\n\n    const handleSaveClick = (event) => {\n      console.log(contactDetails);\n      if (contactDetails){\n          \n        dispatch (update_contact(currId, contactDetails))\n        window.location.reload(true);\n        handleClose();\n      }\n\n    }\n    \n\n  \n    const handleClickOpen = () => {\n      setOpen(true);\n    };\n  \n    const handleClose = () => {\n      setOpen(false);\n    };\n\n  \n    return (\n      <div className={classes.root}>\n            <div className = {classes.deleteContact}>\n                <div className ='updateContact'>\n                <Fab color=\"primary\" aria-label=\"update\"  onClick={handleClickOpen}style={{display:'flex'}} >\n                  <UpdateIcon/>\n                </Fab>\n                <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n                  <DialogTitle id=\"form-dialog-title\">Update contact</DialogTitle>\n                  <Container component=\"main\" maxWidth=\"xs\">\n        <TextField\n                autoFocus\n                margin=\"dense\"\n                id=\"name\"\n                label=\"First Name\"\n                type=\"first_name\"\n                fullWidth\n                value = {contactDetails.first_name}\n                onChange={(e) => setContactDetails({...contactDetails, first_name:e.target.value})}\n            ></TextField>\n            <TextField\n                autoFocus\n                margin=\"dense\"\n                id=\"name\"\n                label=\"Last Name\"\n                type=\"last_name\"\n                fullWidth\n                value = {contactDetails.last_name}\n                onChange={(e) => setContactDetails({...contactDetails, last_name:e.target.value})}\n            ></TextField>\n             <TextField\n                autoFocus\n                margin=\"dense\"\n                id=\"name\"\n                label=\"Business\"\n                type=\"business\"\n                fullWidth\n                value = {contactDetails.business}\n                onChange={(e) => setContactDetails({...contactDetails, business:e.target.value})}\n            ></TextField>\n             <TextField\n                autoFocus\n                margin=\"dense\"\n                id=\"name\"\n                label=\"Relationship\"\n                type=\"relationship\"\n                fullWidth\n                value = {contactDetails.relationship}\n                onChange={(e) => setContactDetails({...contactDetails, relationship:e.target.value})}\n            ></TextField>\n            <TextField\n                autoFocus\n                margin=\"dense\"\n                id=\"name\"\n                label=\"Email Address\"\n                type=\"email\"\n                fullWidth\n                value = {contactDetails.email_address}\n                onChange={(e) => setContactDetails({...contactDetails, email_address:e.target.value})}\n            ></TextField>\n             <TextField\n                autoFocus\n                margin=\"dense\"\n                id=\"name\"\n                label=\"Phone number\"\n                type=\"phone_number\"\n                fullWidth\n                value = {contactDetails.phone_number}\n                onChange={(e) => setContactDetails({...contactDetails, phone_number:e.target.value})}\n            ></TextField>\n             <TextField\n                autoFocus\n                margin=\"dense\"\n                id=\"name\"\n                label=\"Description\"\n                type=\"description\"\n                fullWidth\n                value = {contactDetails.description}\n                onChange={(e) => setContactDetails({...contactDetails, description:e.target.value})}\n            ></TextField>\n            <div className = 'note_footer'>\n                <Button className = \"Add to contacts\" onClick={handleSaveClick}>Save changes</Button>\n            </div>\n      </Container>\n                  \n                </Dialog>\n                </div>\n\n                </div>\n            </div>\n                \n  );\n};\n\nexport default UpdateContact"]},"metadata":{},"sourceType":"module"}