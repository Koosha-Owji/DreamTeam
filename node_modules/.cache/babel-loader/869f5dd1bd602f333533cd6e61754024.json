{"ast":null,"code":"import _defineProperty from\"/Users/kooshaowji/Documents/GitHub/DreamTeam/dreamcrm/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/kooshaowji/Documents/GitHub/DreamTeam/dreamcrm/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/kooshaowji/Documents/GitHub/DreamTeam/dreamcrm/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kooshaowji/Documents/GitHub/DreamTeam/dreamcrm/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/kooshaowji/Documents/GitHub/DreamTeam/dreamcrm/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{GoogleLogin}from'react-google-login';import{Button,Grid,Typography,Container,TextField}from'@material-ui/core';import useStyles from'./Styles';import React,{useState}from'react';import{useDispatch,useSelector}from'react-redux';import{sendEmail,linkEmail}from'../../actions/email';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Icon=function Icon(){return/*#__PURE__*/_jsx(\"svg\",{style:{width:'20px',height:'20px'},viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{fill:\"currentColor\",d:\"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z\"})});};var initialState={toEmail:null,Subject:null,message:null};var Google=function Google(){var classes=useStyles();var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var dispatch=useDispatch();var emailData=useSelector(function(state){return state.email;});var googleSuccess=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:result={code:res===null||res===void 0?void 0:res.code};alert('Success');dispatch(linkEmail(result));case 3:case\"end\":return _context.stop();}}},_callee);}));return function googleSuccess(_x){return _ref.apply(this,arguments);};}();var googleError=function googleError(){return alert('Google Sign In was unsuccessful. Try again later');};var handleSubmit=function handleSubmit(e){e.preventDefault();if(form.toEmail!=null&&form.message!=null&&form.Subject!=null){dispatch(sendEmail(form));if(emailData){alert(\"Email sent!\");}setForm(e.target.reset());}else{alert(\"Enter the details!\");}};var handleChange=function handleChange(e){return setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(GoogleLogin,{clientId:\"678095570684-gnjgmcakmnmd64lmb3qom978v31jfucg.apps.googleusercontent.com\",render:function render(renderProps){return/*#__PURE__*/_jsx(Button,{className:classes.googleButton,color:\"primary\",fullWidth:true,onClick:renderProps.onClick,disabled:renderProps.disabled,startIcon:/*#__PURE__*/_jsx(Icon,{}),variant:\"contained\",children:\"Link to DreamTeam CRM\"});},responseType:\"code\",redirectUri:\"postmessage\",scope:\"https://mail.google.com/\",accessType:\"offline\",prompt:\"consent\",onSuccess:googleSuccess,onFailure:googleError,cookiePolicy:\"single_host_origin\"}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Send Email\"}),/*#__PURE__*/_jsx(\"form\",{className:classes.form,onSubmit:handleSubmit,noValidate:true,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,children:/*#__PURE__*/_jsx(TextField,{name:\"toEmail\",onChange:handleChange,variant:\"outlined\",required:true,fullWidth:true,id:\"toEmail\",label:\"Email address\",autoComplete:\"email\",autoFocus:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,children:/*#__PURE__*/_jsx(TextField,{name:\"Subject\",onChange:handleChange,variant:\"outlined\",required:true,fullWidth:true,id:\"Subject\",label:\"Subject\",autoFocus:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,children:/*#__PURE__*/_jsx(TextField,{name:\"message\",onChange:handleChange,variant:\"outlined\",required:true,fullWidth:true,multiline:true,rows:6,id:\"message\",label:\"Text\",autoFocus:true})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,children:\"Send Email\"})]})})]});};export default Google;","map":{"version":3,"sources":["/Users/kooshaowji/Documents/GitHub/DreamTeam/dreamcrm/src/components/Email/Google.component.js"],"names":["GoogleLogin","Button","Grid","Typography","Container","TextField","useStyles","React","useState","useDispatch","useSelector","sendEmail","linkEmail","Icon","width","height","initialState","toEmail","Subject","message","Google","classes","form","setForm","dispatch","emailData","state","email","googleSuccess","res","result","code","alert","googleError","handleSubmit","e","preventDefault","target","reset","handleChange","name","value","renderProps","googleButton","onClick","disabled","submit"],"mappings":"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","sourcesContent":["import { GoogleLogin } from 'react-google-login';\nimport { Button, Grid, Typography, Container,TextField } from '@material-ui/core';\nimport useStyles from './Styles';\nimport React,{ useState } from 'react';\nimport { useDispatch,useSelector } from 'react-redux';\nimport { sendEmail,linkEmail } from '../../actions/email';\n\nconst Icon = () => (\n    <svg style={{ width: '20px', height: '20px' }} viewBox=\"0 0 24 24\">\n        <path\n        fill=\"currentColor\"\n        d=\"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z\"\n        />\n    </svg>\n    );\n\nconst initialState = {toEmail: null, Subject: null, message: null};\n\nconst Google = () => {\n\n    const classes = useStyles();\n    const [form, setForm] = useState(initialState);\n    const dispatch = useDispatch();\n    const emailData = useSelector((state) => state.email);\n\n    const googleSuccess = async (res) => {\n        const result = {code:res?.code};\n        alert('Success');\n        dispatch(linkEmail(result));\n    };\n    const googleError = () => alert('Google Sign In was unsuccessful. Try again later');\n    const handleSubmit = (e) => {\n        e.preventDefault(); \n        if(form.toEmail!=null&&form.message!=null&&form.Subject!=null)\n        {\n            dispatch(sendEmail(form));\n            if(emailData)\n            {\n            alert(\"Email sent!\");\n            }\n            setForm(e.target.reset());\n        }\n        else\n        {\n            alert(\"Enter the details!\");\n        }\n      };\n    const handleChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\n\nreturn (\n    <Container component=\"main\" maxWidth=\"xs\">  \n        <GoogleLogin\n            clientId=\"678095570684-gnjgmcakmnmd64lmb3qom978v31jfucg.apps.googleusercontent.com\"\n            render={(renderProps) => (\n                <Button className={classes.googleButton} color=\"primary\" fullWidth onClick={renderProps.onClick} disabled={renderProps.disabled} startIcon={<Icon />} variant=\"contained\">\n                  Link to DreamTeam CRM\n                </Button>\n              )}\n            responseType=\"code\"\n            redirectUri=\"postmessage\"\n            scope=\"https://mail.google.com/\"\n            accessType=\"offline\"\n            prompt=\"consent\"\n            onSuccess={googleSuccess}\n            onFailure={googleError}\n            cookiePolicy=\"single_host_origin\"\n          />            \n          <Typography component=\"h1\" variant=\"h5\">\n          Send Email\n        </Typography>\n        <form className={classes.form} onSubmit={handleSubmit} noValidate>\n            <Grid container spacing={2}>\n                <Grid item xs={12} sm={12}>\n                    <TextField\n                    name=\"toEmail\"\n                    onChange={handleChange}\n                    variant=\"outlined\"\n                    required\n                    fullWidth\n                    id=\"toEmail\"\n                    label=\"Email address\"\n                    autoComplete=\"email\"\n                    autoFocus\n                    />\n                </Grid>\n                <Grid item xs={12} sm={12}>\n                    <TextField\n                    name=\"Subject\"\n                    onChange={handleChange}\n                    variant=\"outlined\"\n                    required\n                    fullWidth\n                    id=\"Subject\"\n                    label=\"Subject\"\n                    autoFocus\n                    />\n                </Grid>\n                <Grid item xs={12} sm={12}>\n                    <TextField\n                    name=\"message\"\n                    onChange={handleChange}\n                    variant=\"outlined\"\n                    required\n                    fullWidth\n                    multiline\n                    rows={6}\n                    id=\"message\"\n                    label=\"Text\"\n                    autoFocus\n                    />\n                </Grid>\n                <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                >\n                    Send Email\n                </Button>\n            </Grid>\n        </form>\n    </Container>\n)\n};\nexport default Google;\n"]},"metadata":{},"sourceType":"module"}